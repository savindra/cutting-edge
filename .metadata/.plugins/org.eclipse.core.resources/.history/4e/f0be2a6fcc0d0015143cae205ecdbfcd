package lk.ac.iit.humzearch.model;

import android.media.MediaRecorder;

public class SoundMeter {
	
	static final private double EMA_FILTER  = 0.6;
	
	private MediaRecorder mRecorder = null;
    private double mEMA = 0.0;
    
    public void start(){
    	
    	if(mRecorder == null){
    		
    		mRecorder = new MediaRecorder();
    		mRecorder.setAudioSource(MediaRecorder.AudioSource.MIC);
    		mRecorder.setOutputFormat(MediaRecorder.OutputFormat.MPEG_4);
    		mRecorder.setAudioEncoder(MediaRecorder.AudioEncoder.AMR_NB);
    		mRecorder.setOutputFile("/dev/null"); 
    		
    		try {
                mRecorder.prepare();
            } catch (IllegalStateException e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
            } catch (IOException e) {
                // TODO Auto-generated catch block
                e.printStackTrace();
            }
             
           mRecorder.start();
           mEMA = 0.0;
    		
    		
    	}
    	
    }

}
